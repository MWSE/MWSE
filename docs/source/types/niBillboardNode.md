<!---
	This file is autogenerated. Do not edit this file manually. Your changes will be ignored.
	More information: https://github.com/MWSE/MWSE/tree/master/docs
-->

# niBillboardNode

This node adjusts its render-time orientation so that the local z axis will face the camera. It supports multiple modes: camera parallel, or rotation around the local Y axis.

This type inherits the following: [niNode](../../types/niNode), [niAVObject](../../types/niAVObject), [niObjectNET](../../types/niObjectNET), [niObject](../../types/niObject)
## Properties

### `alphaProperty`

Convenient access to this object's alpha property. Setting this value to be nil will erase the property, while setting it to a valid alpha property will set (or replace) it.

**Returns**:

* `result` ([niAlphaProperty](../../types/niAlphaProperty), nil)

***

### `appCulled`

A flag indicating if this object is culled. When culled, it will not render, and raycasts ignore it.

**Returns**:

* `result` (boolean)

***

### `children`

*Read-only*. The children of the node. Can have `nil` entries.

**Returns**:

* `result` ([niAVObject](../../types/niAVObject)[])

***

### `controller`

*Read-only*. The first controller available on the object.

**Returns**:

* `result` ([niTimeController](../../types/niTimeController))

***

### `effectList`

*Read-only*. The effect list of the node. Attached effects affect the node and all of its child subtree geometry.

**Returns**:

* `result` ([niDynamicEffectLinkedList](../../types/niDynamicEffectLinkedList))

***

### `extraData`

*Read-only*. The first extra data available on the object.

**Returns**:

* `result` ([niExtraData](../../types/niExtraData))

***

### `flags`

Flags, dependent on the specific object type.

**Returns**:

* `result` (number)

***

### `fogProperty`

Convenient access to this object's fog property. Setting this value to be nil will erase the property, while setting it to a valid fog property will set (or replace) it.

**Returns**:

* `result` ([niFogProperty](../../types/niFogProperty), nil)

***

### `materialProperty`

Convenient access to this object's material property. Setting this value to be nil will erase the property, while setting it to a valid material property will set (or replace) it.

**Returns**:

* `result` ([niMaterialProperty](../../types/niMaterialProperty), nil)

***

### `mode`

The orientation mode.
`0` Always face camera. Local z-axis becomes parallel to the camera. Minimizes rotation difference from the previous frame for smoother motion.
`1` Rotate about up vector. The object is rotated around its local y-axis so that its z-axis is pointing towards the camera.
`2` Rigid face camera. Local z-axis becomes parallel to the camera. Does not depend on previous frame.


**Returns**:

* `result` (integer)

***

### `name`

The human-facing name of the given object.

**Returns**:

* `result` (string)

***

### `parent`

*Read-only*. The object's parent. It may not have one if it is not attached to the scene.

**Returns**:

* `result` ([niNode](../../types/niNode))

***

### `properties`

*Read-only*. The list of properties attached to this `niAVObject`.

**Returns**:

* `result` ([niPropertyLinkedList](../../types/niPropertyLinkedList))

***

### `refCount`

*Read-only*. The number of references that exist for this object. When this value reaches zero, the object will be deleted.

**Returns**:

* `result` (number)

***

### `rotation`

The object's local rotation matrix.

**Returns**:

* `result` ([tes3matrix33](../../types/tes3matrix33))

***

### `RTTI`

*Read-only*. The runtime type information for this object. This is an alias for the `.runTimeTypeInformation` property.

**Returns**:

* `result` ([niRTTI](../../types/niRTTI))

***

### `runTimeTypeInformation`

*Read-only*. The runtime type information for this object.

**Returns**:

* `result` ([niRTTI](../../types/niRTTI))

***

### `scale`

The object's local uniform scaling factor.

**Returns**:

* `result` (number)

***

### `stencilProperty`

Convenient access to this object's stencil property. Setting this value to be nil will erase the property, while setting it to a valid stencil property will set (or replace) it.

**Returns**:

* `result` ([niStencilProperty](../../types/niStencilProperty), nil)

***

### `texturingProperty`

Convenient access to this object's texturing property. Setting this value to be nil will erase the property, while setting it to a valid texturing property will set (or replace) it.

**Returns**:

* `result` ([niTexturingProperty](../../types/niTexturingProperty), nil)

***

### `translation`

The object's local translation vector.

**Returns**:

* `result` ([tes3vector3](../../types/tes3vector3))

***

### `velocity`

The object's local velocity.

**Returns**:

* `result` ([tes3vector3](../../types/tes3vector3))

***

### `vertexColorProperty`

Convenient access to this object's vertex coloring property. Setting this value to be nil will erase the property, while setting it to a valid vertex coloring property will set (or replace) it.

**Returns**:

* `result` ([niVertexColorProperty](../../types/niVertexColorProperty), nil)

***

### `worldBoundOrigin`

The world coordinates of the object's bounds origin.

**Returns**:

* `result` ([tes3vector3](../../types/tes3vector3))

***

### `worldBoundRadius`

The radius of the object's bounds.

**Returns**:

* `result` (number)

***

### `worldTransform`

The object's transformations in the world space.

**Returns**:

* `result` ([tes3transform](../../types/tes3transform))

***

### `zBufferProperty`

Convenient access to this object's z-buffer property. Setting this value to be nil will erase the property, while setting it to a valid z-buffer property will set (or replace) it.

**Returns**:

* `result` ([niZBufferProperty](../../types/niZBufferProperty), nil)

***

## Methods

### `addExtraData`

Appends an extra data to the object.

```lua
myObject:addExtraData(extraData)
```

**Parameters**:

* `extraData` ([niExtraData](../../types/niExtraData))

***

### `attachChild`

Attaches the child to the children list of the node. Doesn't check to see if the object is already in the child list.

```lua
myObject:attachChild(child, useFirstAvailable)
```

**Parameters**:

* `child` ([niAVObject](../../types/niAVObject))
* `useFirstAvailable` (boolean): *Default*: `false`. Use the first available space in the list. If `false` appends the child at the end of the list.

***

### `attachEffect`

Attaches a dynamic effect to the node. It will not attach the same effect twice.

```lua
myObject:attachEffect(effect)
```

**Parameters**:

* `effect` ([niDynamicEffect](../../types/niDynamicEffect))

***

### `attachProperty`

Attaches a property to this object, without checking to see if the property or another of its type is already on the list. Property lists must not have more than one property of a given class (i.e. no two niTexturingProperty objects) attached at once, or else undefined behavior will result.

```lua
myObject:attachProperty(property)
```

**Parameters**:

* `property` ([niProperty](../../types/niProperty))

***

### `clearTransforms`

Resets the object's local transform.

```lua
myObject:clearTransforms()
```

***

### `clone`

Creates a copy of this object.

```lua
local result = myObject:clone()
```

**Returns**:

* `result` ([niObject](../../types/niObject))

***

### `createBoundingBox`

Calculates and creates a bounding box for the object. The existing bounding box, if any, will not be used, a fresh one will always be calculated.

```lua
local boundingBox = myObject:createBoundingBox()
```

**Returns**:

* `boundingBox` ([tes3boundingBox](../../types/tes3boundingBox)): The newly created bounding box.

***

### `detachAllProperties`

Detaches all the properties on the object and returns them in the table.

```lua
local result = myObject:detachAllProperties(ts)
```

**Parameters**:

* `ts` (table)

**Returns**:

* `result` ([niProperty](../../types/niProperty)[])

***

### `detachChild`

Detaches the child from the children list of the node. Returns the detached child.

```lua
local detachedChild = myObject:detachChild(child)
```

**Parameters**:

* `child` ([niAVObject](../../types/niAVObject))

**Returns**:

* `detachedChild` ([niAVObject](../../types/niAVObject))

***

### `detachChildAt`

Detaches the child at the specified index from the children list of the node. Returns the detached child.

```lua
local detachedChild = myObject:detachChildAt(index)
```

**Parameters**:

* `index` (integer)

**Returns**:

* `detachedChild` ([niAVObject](../../types/niAVObject))

***

### `detachEffect`

Detaches the given dynamic effect from the effect list of the node, if it was present. Has no effect if the effect wasn't attached to the node.

```lua
myObject:detachEffect(effect)
```

**Parameters**:

* `effect` ([niDynamicEffect](../../types/niDynamicEffect))

***

### `detachProperty`

Detaches and returns a property from the object which matches the given property type.

```lua
local result = myObject:detachProperty(type)
```

**Parameters**:

* `type` (number): The types are available in [`tes3.niPropertyType`](https://mwse.github.io/MWSE/references/niProperty-types/) table.

**Returns**:

* `result` ([niProperty](../../types/niProperty))

***

### `getEffect`

Gets the effect of the given type.

```lua
local effect = myObject:getEffect(type)
```

**Parameters**:

* `type` (integer): Use the values from [`tes3.dynamicEffectType`](https://mwse.github.io/MWSE/references/dynamic-effect-types/) table.

**Returns**:

* `effect` ([niDynamicEffect](../../types/niDynamicEffect), nil)

***

### `getGameReference`

Searches for an niExtraData on this object to see if it has one that holds a related reference.

```lua
local reference = myObject:getGameReference(searchParents)
```

**Parameters**:

* `searchParents` (boolean): *Default*: `false`. If true, all parent objects (if applicable) are also searched.

**Returns**:

* `reference` ([tes3reference](../../types/tes3reference))

***

### `getObjectByName`

Searches this node and all child nodes recursively for a node with a name that matches the argument.

```lua
local result = myObject:getObjectByName(name)
```

**Parameters**:

* `name` (string)

**Returns**:

* `result` ([niAVObject](../../types/niAVObject))

***

### `getProperty`

Gets an attached property by property type.

```lua
local result = myObject:getProperty(type)
```

**Parameters**:

* `type` (number): The types are available in [`tes3.niPropertyType`](https://mwse.github.io/MWSE/references/niProperty-types/) table.

**Returns**:

* `result` ([niProperty](../../types/niProperty))

***

### `getStringDataStartingWith`

Searches for an niExtraData on this object to see if it has niStringExtraData that has its string start with the provided `value` argument.

```lua
local extra = myObject:getStringDataStartingWith(value)
```

**Parameters**:

* `value` (string): The first niStringExtraData starting with this value will be returned.

**Returns**:

* `extra` ([niStringExtraData](../../types/niStringExtraData))

***

### `getStringDataWith`

Searches for an niExtraData on this object to see if it has niStringExtraData that has the provided `value` argument in its string field.

```lua
local extra = myObject:getStringDataWith(value)
```

**Parameters**:

* `value` (string): The first niStringExtraData with this word will be returned.

**Returns**:

* `extra` ([niStringExtraData](../../types/niStringExtraData))

***

### `hasStringDataStartingWith`

Searches for an niExtraData on this object to see if it has niStringExtraData that has its string start with the provided `value` argument. Returns true if the value was found.

```lua
local result = myObject:hasStringDataStartingWith(value)
```

**Parameters**:

* `value` (string): The value to search for.

**Returns**:

* `result` (boolean)

***

### `hasStringDataWith`

Searches for an niExtraData on this object to see if it has niStringExtraData that contains the provided `value` argument in its string field. Returns true if the value was found.

```lua
local result = myObject:hasStringDataWith(value)
```

**Parameters**:

* `value` (string): The value to search for.

**Returns**:

* `result` (boolean)

***

### `isInstanceOfType`

Determines if the object is of a given type, or of a type derived from the given type. Types can be found in the [`tes3.niType`](https://mwse.github.io/MWSE/references/niTypes/) table.

```lua
local result = myObject:isInstanceOfType(type)
```

**Parameters**:

* `type` (number): Use values in the [`tes3.niType`](https://mwse.github.io/MWSE/references/niTypes/) table.

**Returns**:

* `result` (boolean)

***

### `isOfType`

Determines if the object is of a given type. Types can be found in the [`tes3.niType`](https://mwse.github.io/MWSE/references/niTypes/) table.

```lua
local result = myObject:isOfType(type)
```

**Parameters**:

* `type` (number): Use values in the [`tes3.niType`](https://mwse.github.io/MWSE/references/niTypes/) table.

**Returns**:

* `result` (boolean)

***

### `prependController`

Add a controller to the object as the first controller.

```lua
myObject:prependController(controller)
```

**Parameters**:

* `controller` ([niTimeController](../../types/niTimeController))

***

### `propagatePositionChange`

Alias for `update()` method. Updates the world transforms of this node and its children, which makes changes visible for rendering. Use after changing any local rotation, translation, scale, bounds or after attaching and detaching nodes.

!!! tip
	Update Efficiency
	It's best to "batch up" calls to this method. For example, when transform of an object its parent and grandparent are all changed during the same frame, it is much more efficient to call this method only on the grandparent object after all transforms have been changed. Also, consider calling this function as low as possible on a scene graph.


```lua
myObject:propagatePositionChange({ time = ..., controllers = ..., bounds = ... })
```

**Parameters**:

* `args` (table): *Optional*.
	* `time` (number): *Default*: `0`. This parameter is the time-slice for transformation and bounds updates
	* `controllers` (boolean): *Default*: `false`. Update object's controllers?
	* `bounds` (boolean): *Default*: `true`. Update object's bounds?

***

### `removeAllControllers`

Removes all controllers.

```lua
myObject:removeAllControllers()
```

***

### `removeAllExtraData`

Removes all extra data.

```lua
myObject:removeAllExtraData()
```

***

### `removeController`

Removes a controller from the object.

```lua
myObject:removeController(controller)
```

**Parameters**:

* `controller` ([niTimeController](../../types/niTimeController))

***

### `removeExtraData`

Removes a specific extra data from the object.

```lua
myObject:removeExtraData(extraData)
```

**Parameters**:

* `extraData` ([niExtraData](../../types/niExtraData))

***

### `rotateToCamera`

Updates the world transform to point at a camera. Used automatically during rendering. This method is only needed when you need to get the world transform without rendering.

```lua
myObject:rotateToCamera(camera)
```

**Parameters**:

* `camera` ([niCamera](../../types/niCamera))

***

### `saveBinary`

Serializes the object, and writes it to the given file.

```lua
local success = myObject:saveBinary(path)
```

**Parameters**:

* `path` (string): The path to write the file at, relative to the Morrowind installation folder.

**Returns**:

* `success` (boolean): If true the object was successfully serialized.

***

### `setFlag`

Sets a given flag in the niObjectNET flag data. The specifics use of the flag is dependent on the real underlying type.

```lua
myObject:setFlag(state, index)
```

**Parameters**:

* `state` (boolean)
* `index` (number)

***

### `update`

Updates the world transforms of this node and its children, which makes changes visible for rendering. Use after changing any local rotation, translation, scale, bounds or after attaching and detaching nodes.

!!! tip
	Update Efficiency
	It's best to "batch up" calls to this method. For example, when transform of an object its parent and grandparent are all changed during the same frame, it is much more efficient to call this method only on the grandparent object after all transforms have been changed. Also, consider calling this function as low as possible on a scene graph.


```lua
myObject:update({ time = ..., controllers = ..., bounds = ... })
```

**Parameters**:

* `args` (table): *Optional*.
	* `time` (number): *Default*: `0`. This parameter is the time-slice for transformation and bounds updates
	* `controllers` (boolean): *Default*: `false`. Update object's controllers?
	* `bounds` (boolean): *Default*: `true`. Update object's bounds?

***

### `updateEffects`

Update all attached effects. This method must be called at or above any object when dynamic effects are attached or detached from it

```lua
myObject:updateEffects()
```

***

### `updateProperties`

Update all attached properties.

```lua
myObject:updateProperties()
```

***

## Functions

### `new`

Creates a new, empty niBillboardNode, with the mode set to rotate about the model-space up vector.

```lua
local node = niBillboardNode.new()
```

**Returns**:

* `node` ([niBillboardNode](../../types/niBillboardNode))

***

